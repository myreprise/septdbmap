<!doctype html>

<html class="no-js" ng-app="mapDb">

<head>
    <meta charset="utf-8">
    
    <title>TAM R&amp;P Project Database</title>

    <meta name="description" content="An example demonstrating Google Map integration with MEAN Apps">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS -->
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAS50GBAU3ShS740nt4-KrbvUqjYiEk60s"></script>

    <!-- JS Source -->
    <script src="../node_modules/angular/angular.min.js"></script>

    <!-- Angular Scripts -->
    <script src="js/app.js"></script>
    <script src="js/gservice.js"></script>
    <script src="js/queryController.js"></script>

</head>

<body ng-controller="queryController">

 <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
              <a class="navbar-brand"><img style= "max-width 100%; width: auto; margin: 0 auto; height: 100%" src="img/logo.png"></a>
        </div>
      </div>
    </nav>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron" id="map" style="margin-top: 50px; width: 100%; height: 400px"></div>

    <div class="container" style="background-color: #777; width: 100%; margin-top: -30px">
      <div class="row" style="margin: 0 auto; width: 50%; padding-top: 10px; padding-bottom: 10px">
        <div class="col-lg-12">

        <form class='form-inline' name="search" style="margin-left: 30px">
          <div class="form-group" style="margin: 0 aut">
            <label style="font-size: 18px; color: white">List of China projects by</label>
            <select name="developer" class="form-control" data-ng-model="formData.developer" id="developer-select">
              <option value="" disabled selected>developer</option>
              <option ng-repeat="item in projectdevelopers | orderBy: 'developer'" value="{{item.developer}}">{{item.developer}}</option>
            </select>
            <button type="submit" class="btn btn-default" id="project-search-btn" ng-click="queryProjects()">Search</button>
          </div>
        </form>

        </div>
        <div class="col-lg-12" ng-show="queryCount > 0">
          <div style="margin: 0 auto; width: 50%">
            <h4 class="result-text" ng-if="queryCount > 1">{{queryCount}} projects found</h4>
            <h4 class="result-text" ng-if="queryCount == 1">{{queryCount}} project found</h4>
          </div>
        </div>
      </div>
    </div><!-- end of container-->

    <div class="container" ng-show="queryCount > 0">
      <div class="row">
        <div class='col-md-3 result-projects' ng-repeat="project in projectList" style="margin: 10px">
          <div class="container" style="display: block; margin: auto">
            <h4>{{project.name}}</h4>
            <a ng-click="projectZoom(lat=project.location[1], lng=project.location[0], zoom=12)"><img class="img-responsive" alt="Responsive image" src="{{project.image}}"></a>
          </div>

        </div>
      </div> <!-- end of div class row -->

    </div> <!-- div class is container -->

</body>

</html>